{"version":3,"sources":["../../src/ArgdownTreeWalker.js"],"names":["ArgdownTreeWalker","tree","data","logger","visitNode","tokenInstance","constr","tokenName","node","parentNode","childIndex","name","emit","getTokenName","children","length","i","child","string","charAt","toUpperCase","slice","module","exports"],"mappings":";;;;AAAA;;AACA;;;;;;;;IAGMA,iB;;;;;;;;;;;yBACCC,I,EAAMC,I,EAAMC,M,EAAO;AACtB,WAAKC,SAAL,CAAeH,IAAf,EAAqB,IAArB,EAA2B,IAA3B,EAAiCC,IAAjC;AACD;;;iCAEYG,a,EAAc;AACzB,UAAIC,SAAS,qCAAoBD,aAApB,CAAb;AACA,aAAOC,OAAOC,SAAd;AACD;;;8BAESC,I,EAAMC,U,EAAYC,U,EAAYR,I,EAAMC,M,EAAO;AACnD,UAAGK,KAAKG,IAAR,EAAa;AACX,aAAKC,IAAL,CAAUJ,KAAKG,IAAL,GAAU,OAApB,EAA6BH,IAA7B,EAAmCC,UAAnC,EAA+CC,UAA/C,EAA2DR,IAA3D,EAAiEC,MAAjE;AACD,OAFD,MAEM;AACJ,aAAKS,IAAL,CAAU,KAAKC,YAAL,CAAkBL,IAAlB,IAA0B,OAApC,EAA6CA,IAA7C,EAAmDC,UAAnD,EAA+DC,UAA/D,EAA2ER,IAA3E,EAAiFC,MAAjF;AACD;;AAED,UAAGK,KAAKM,QAAL,IAAiBN,KAAKM,QAAL,CAAcC,MAAd,GAAuB,CAA3C,EAA6C;AAC3C,aAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIR,KAAKM,QAAL,CAAcC,MAAjC,EAAyCC,GAAzC,EAA6C;AAC3C,cAAIC,QAAQT,KAAKM,QAAL,CAAcE,CAAd,CAAZ;AACA,eAAKZ,SAAL,CAAea,KAAf,EAAsBT,IAAtB,EAA4BQ,CAA5B,EAA+Bd,IAA/B,EAAqCC,MAArC;AACD;AACF;;AAED,UAAGK,KAAKG,IAAR,EAAa;AACX,aAAKC,IAAL,CAAUJ,KAAKG,IAAL,GAAU,MAApB,EAA4BH,IAA5B,EAAkCC,UAAlC,EAA8CC,UAA9C,EAA0DR,IAA1D,EAAgEC,MAAhE;AACD,OAFD,MAEK;AACH,aAAKS,IAAL,CAAU,KAAKC,YAAL,CAAkBL,IAAlB,IAA0B,MAApC,EAA4CA,IAA5C,EAAkDC,UAAlD,EAA8DC,UAA9D,EAA0ER,IAA1E,EAAgFC,MAAhF;AACD;AACF;;;0CAEqBe,M,EAAQ;AAC1B,aAAOA,OAAOC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiCF,OAAOG,KAAP,CAAa,CAAb,CAAxC;AACH;;;;;;AAEHC,OAAOC,OAAP,GAAiB;AACfvB,qBAAmBA;AADJ,CAAjB","file":"ArgdownTreeWalker.js","sourcesContent":["import {EventEmitter} from \"eventemitter3\";\nimport {getTokenConstructor} from \"chevrotain\";\n\n\nclass ArgdownTreeWalker extends EventEmitter{\n  walk(tree, data, logger){\n    this.visitNode(tree, null, null, data);\n  }\n\n  getTokenName(tokenInstance){\n    let constr = getTokenConstructor(tokenInstance);\n    return constr.tokenName;\n  }\n\n  visitNode(node, parentNode, childIndex, data, logger){\n    if(node.name){\n      this.emit(node.name+'Entry', node, parentNode, childIndex, data, logger);\n    }else {\n      this.emit(this.getTokenName(node) + 'Entry', node, parentNode, childIndex, data, logger);\n    }\n\n    if(node.children && node.children.length > 0){\n      for(var i = 0; i < node.children.length; i++){\n        let child = node.children[i];\n        this.visitNode(child, node, i, data, logger);\n      }\n    }\n\n    if(node.name){\n      this.emit(node.name+'Exit', node, parentNode, childIndex, data, logger);\n    }else{\n      this.emit(this.getTokenName(node) + 'Exit', node, parentNode, childIndex, data, logger);\n    }\n  }\n\n  capitalizeFirstLetter(string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n}\nmodule.exports = {\n  ArgdownTreeWalker: ArgdownTreeWalker\n}\n"]}