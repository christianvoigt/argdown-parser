{"version":3,"sources":["../../../src/plugins/HtmlExport.js"],"names":["_","HtmlExport","data","config","html","previousSettings","settings","headless","cssFile","title","lang","charset","defaultsDeep","name","$","htmlIds","argdownListeners","argdownEntry","node","parentNode","childIndex","head","argdownExit","statementEntry","classes","equivalenceClass","tags","getCssClassesFromTags","sortedTags","statementExit","StatementDefinitionEntry","htmlId","getHtmlId","statement","escapeHtml","StatementReferenceEntry","StatementMentionEntry","statements","trailingWhitespace","argumentReferenceEntry","argument","argumentDefinitionEntry","ArgumentMentionEntry","arguments","argumentDefinitionExit","incomingSupportEntry","incomingSupportExit","incomingAttackEntry","incomingAttackExit","incomingUndercutEntry","incomingUndercutExit","outgoingSupportEntry","outgoingSupportExit","outgoingAttackEntry","outgoingAttackExit","outgoingUndercutEntry","outgoingUndercutExit","contradictionEntry","contradictionExit","relationsEntry","relationsExit","orderedListEntry","orderedListExit","unorderedListEntry","unorderedListExit","orderedListItemEntry","orderedListItemExit","unorderedListItemEntry","unorderedListItemExit","headingEntry","level","replace","text","headingExit","freestyleTextEntry","boldEntry","boldExit","italicEntry","italicExit","LinkEntry","url","TagEntry","tag","argumentEntry","argumentExit","argumentStatementEntry","role","inference","metadataKeys","Object","keys","metaData","length","inferenceRules","i","inferenceRule","key","isString","j","value","statementNr","argumentStatementExit","type","ignoreDuplicates","id","originalId","tagsDictionary","index","tagData","cssClass","str","find","RegExp","unsafe","module","exports"],"mappings":"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","file":"HtmlExport.js","sourcesContent":["import * as _ from 'lodash';\nimport util from './util.js';\n\nclass HtmlExport{\n  set config(config){\n    let previousSettings = this.settings;\n    if(!previousSettings){\n      previousSettings = {\n        headless : false,\n        cssFile: './argdown.css',\n        title: 'Argdown Document',\n        lang: 'en',\n        charset: 'utf8'\n      }\n    }\n    this.settings = _.defaultsDeep({}, config, previousSettings);\n  }\n  run(data){\n    if(data.config){\n      if(data.config.html){\n        this.config = data.config.html;\n      }\n    }\n    \n    data.html = this.html;\n    return data;\n  }\n  constructor(config){\n    this.name = \"HtmlExport\";\n    this.html = \"\";\n    let $ = this;\n    this.config = config;\n    this.htmlIds = {};\n\n    this.argdownListeners = {\n      argdownEntry : (node, parentNode, childIndex, data)=>{\n        if(data && data.config){\n          if(data.config.html){\n            $.config = data.config.html;\n          }\n        }\n        data.config = data.config||{};\n        \n        $.html = \"\";\n        $.htmlIds = {};\n        if(!$.settings.headless){\n          let head = $.settings.head;\n          if(!head){\n            head = \"<!doctype html>\\n\\n\"+\n                    \"<html lang='\"+$.settings.lang+\"'>\\n\"+\n                    \"<head>\\n\"+\n                    \"<meta charset='\"+$.settings.charset+\"'>\\n\"+\n                    \"<title>\"+$.settings.title+\"</title>\\n\";\n                    if($.settings.cssFile){\n                        head += \"<link rel='stylesheet' href='\"+$.settings.cssFile+\"'>\\n\";\n                    }\n                    head += \"</head>\";        \n          }\n          $.html += head;\n          $.html += \"<body>\";\n        }\n        $.html += \"<div class='argdown'>\";\n      },\n      argdownExit : ()=>{\n        $.html += \"</div>\";\n        if(!$.settings.headless){\n          $.html += \"</body></html>\";\n        }\n      },\n      statementEntry : (node, parentNode, childIndex, data)=>{\n        let classes = \"statement\";\n        if(node.equivalenceClass.tags){\n          classes += \" \" + $.getCssClassesFromTags(node.equivalenceClass.sortedTags, data);\n        }        \n        $.html += \"<div class='\"+classes+\"'>\";\n      },\n      statementExit : ()=>$.html += \"</div>\",\n      StatementDefinitionEntry : (node, parentNode, childIndex, data)=>{\n        let htmlId = $.getHtmlId(\"statement\", node.statement.title);\n        $.htmlIds[htmlId] = node.statement;\n        let classes = \"definition statement-definition definiendum\";\n        if(parentNode.equivalenceClass && parentNode.equivalenceClass.sortedTags){\n          classes += \" \" + $.getCssClassesFromTags(parentNode.equivalenceClass.sortedTags, data);          \n        }\n        $.html += \"<span id='\"+htmlId+\"' class='\"+classes+\"'>[<span class='title statement-title'>\"+$.escapeHtml(node.statement.title)+\"</span>]: </span>\"\n      },\n      StatementReferenceEntry : (node, parentNode, childIndex, data)=>{\n        let htmlId = $.getHtmlId(\"statement\", node.statement.title, true);\n        let classes = \"reference statement-reference\";\n        if(parentNode.equivalenceClass && parentNode.equivalenceClass.sortedTags){\n          classes += \" \" + $.getCssClassesFromTags(parentNode.equivalenceClass.sortedTags, data);          \n        }\n        $.html += \"<a href='#\"+htmlId+\"' class='\"+classes+\"'>[<span class='title statement-title'>\"+$.escapeHtml(node.statement.title)+\"</span>] </a>\"\n      },\n      StatementMentionEntry : (node, parentNode, childIndex, data)=>{\n        const equivalenceClass = data.statements[node.title];\n        let classes = \"mention statement-mention\";\n        if(equivalenceClass.sortedTags){\n          classes += \" \" + $.getCssClassesFromTags(equivalenceClass.sortedTags, data);\n        }\n        let htmlId = $.getHtmlId(\"statement\", node.title, true);\n        $.html += \"<a href='#\"+htmlId+\"' class='\"+classes+\"'>@[<span class='title statement-title'>\"+$.escapeHtml(node.title)+\"</span>]</a>\"+node.trailingWhitespace\n      },\n      argumentReferenceEntry : (node, parentNode, childIndex, data)=>{\n        let htmlId = $.getHtmlId(\"argument\", node.argument.title, true);\n        let classes = \"reference argument-reference\";\n        if(node.argument.tags){\n          classes += \" \" + $.getCssClassesFromTags(node.argument.sortedTags, data);\n        }\n        $.html += \"<a href='#\"+htmlId+\"' class='\"+classes+\"'>&lt;<span class='title argument-title'>\"+$.escapeHtml(node.argument.title)+\"</span>&gt; </a>\"\n      },\n      argumentDefinitionEntry : (node, parentNode, childIndex, data)=>{\n        let htmlId = $.getHtmlId(\"argument\", node.argument.title);\n        $.htmlIds[htmlId] = node.argument;\n        let classes = \"definition argument-definition\";\n        if(node.argument.tags){\n          classes += \" \" + $.getCssClassesFromTags(node.argument.sortedTags, data);\n        }\n        $.html += \"<div id='\"+htmlId+\"' class='\"+classes+\"'><span class='definiendum argument-definiendum'>&lt;<span class='title argument-title'>\"+$.escapeHtml(node.argument.title)+\"</span>&gt;: </span><span class='argument-definiens definiens description'>\"\n      },\n      ArgumentMentionEntry : (node, parentNode, childIndex, data)=>{\n        let htmlId = $.getHtmlId(\"argument\", node.title, true);\n        let classes = \"mention argument-mention\";\n        const argument = data.arguments[node.title];\n        if(argument.tags){\n          classes += \" \" + $.getCssClassesFromTags(argument.sortedTags, data);\n        }\n        $.html += \"<a href='#\"+htmlId+\"' class='\"+classes+\"'>@&lt;<span class='title argument-title'>\"+$.escapeHtml(node.title)+\"</span>&gt;</a>\"+node.trailingWhitespace\n      },\n      argumentDefinitionExit : ()=>$.html+=\"</span></div>\",\n      incomingSupportEntry : ()=>{\n        $.html += \"<div class='incoming support relation'><div class='incoming support relation-symbol'><span>+&gt;</span></div>\"\n      },\n      incomingSupportExit : ()=>$.html += \"</div>\",\n      incomingAttackEntry : ()=>{\n        $.html += \"<div class='incoming attack relation'><div class='incoming attack relation-symbol'><span>-&gt;</span></div>\"\n      },\n      incomingAttackExit : ()=>$.html += \"</div>\",\n      incomingUndercutEntry: () => {\n        $.html += \"<div class='incoming undercut relation'><div class='incoming undercut relation-symbol'><span>_&gt;</span></div>\"\n      },\n      incomingUndercutExit: () => $.html += \"</div>\",\n      outgoingSupportEntry : ()=>{\n        $.html += \"<div class='outgoing support relation'><div class='outgoing support relation-symbol'><span>+</span></div>\"\n      },\n      outgoingSupportExit : ()=>{\n        $.html += \"</div>\"\n      },\n      outgoingAttackEntry : ()=>{\n        $.html += \"<div class='outgoing attack relation'><div class='outgoing attack relation-symbol'><span>-</span></div>\"\n      },\n      outgoingAttackExit : ()=>{\n        $.html += \"</div>\"\n      },\n      outgoingUndercutEntry: () => {\n        $.html += \"<div class='outgoing undercut relation'><div class='outgoing undercut relation-symbol'><span>&lt;_</span></div>\"\n      },\n      outgoingUndercutExit: () => {\n        $.html += \"</div>\"\n      },\n      contradictionEntry : ()=>{\n        $.html += \"<div class='contradiction relation'><div class='contradiction relation-symbol'><span>&gt;&lt;</span></div>\"\n      },\n      contradictionExit : ()=>{\n        $.html += \"</div>\"\n      },\n      relationsEntry : ()=>{\n        $.html += \"<div class='relations'>\";\n      },\n      relationsExit : ()=>{\n        $.html += \"</div>\";\n      },\n      orderedListEntry : ()=>$.html += \"<ol>\",\n      orderedListExit : ()=>$.html += \"</ol>\",\n      unorderedListEntry : ()=>$.html += \"<ul>\",\n      unorderedListExit : ()=>$.html += \"</ul>\",\n      orderedListItemEntry : ()=>$.html += \"<li>\",\n      orderedListItemExit : ()=>$.html += \"</li>\",\n      unorderedListItemEntry : ()=>$.html += \"<li>\",\n      unorderedListItemExit : ()=>$.html += \"</li>\",\n      headingEntry : (node)=>{\n        if(node.level == 1){\n          if($.settings.title == 'Argdown Document'){\n            $.html = $.html.replace('<title>Argdown Document</title>','<title>'+$.escapeHtml(node.text)+'</title>')\n          }\n        }\n        let htmlId = $.getHtmlId(\"heading\",node.text);\n        $.htmlIds[htmlId] = node;\n        $.html += \"<h\"+node.level+\" id='\"+htmlId+\"'>\"\n      },\n      headingExit : (node)=>$.html += \"</h\"+node.level+\">\",\n      freestyleTextEntry : (node, parentNode)=>{\n        if(parentNode.name != 'inferenceRules' && parentNode.name != 'metadataStatement'){\n          $.html += $.escapeHtml(node.text);\n        }\n      },\n      boldEntry : ()=>$.html += \"<b>\",\n      boldExit : (node)=>$.html += \"</b>\"+node.trailingWhitespace,\n      italicEntry : ()=>$.html += \"<i>\",\n      italicExit : (node)=>$.html += \"</i>\"+node.trailingWhitespace,\n      LinkEntry : (node)=>$.html += \"<a href='\"+node.url+\"'>\"+node.text+\"</a>\"+node.trailingWhitespace,\n      TagEntry : (node, parentNode, childIndex, data)=>{if(node.text){$.html += \"<span class='tag \"+$.getCssClassesFromTags([node.tag], data)+\"'>\"+$.escapeHtml(node.text)+\"</span>\"}},\n      argumentEntry : (node, parentNode, childIndex, data)=>{\n        let classes = \"argument\";\n        if(node.argument.tags){\n          classes += \" \" + $.getCssClassesFromTags(node.argument.sortedTags, data);          \n        }\n        $.html += \"<div class='\"+classes+\"'>\";\n      },\n      argumentExit : ()=>$.html += \"</div>\",\n      argumentStatementEntry : (node)=>{\n        if(node.statement.role == 'conclusion'){\n          let inference = node.statement.inference;\n          let metadataKeys = Object.keys(inference.metaData);\n          if(metadataKeys.length == 0 && inference.inferenceRules.length == 0){\n            $.html += \"<div class='inference'>\";\n          }else{\n            $.html += \"<div class='inference with-data'>\";\n          }\n\n          $.html += \"<span class='inference-rules'>\"\n          if(inference.inferenceRules.length > 0){\n            let i = 0;\n            for(let inferenceRule of inference.inferenceRules){\n              if(i > 0)\n                $.html += \", \";\n              $.html += \"<span class='inference-rule'>\"+inferenceRule+\"</span>\";\n              i++;\n            }\n            $.html += \"</span> \";\n          }\n          if(metadataKeys.length > 0){\n            $.html += \"<span class='metadata'>(\";\n            for(let i = 0; i < metadataKeys.length; i++){\n              let key = metadataKeys[i];\n              $.html += \"<span class='meta-data-statement'>\";\n              $.html += \"<span class='meta-data-key'>\"+key+\": </span>\";\n              if(_.isString(inference.metaData[key])){\n                $.html += \"<span class='meta-data-value'>\"+$.escapeHtml(inference.metaData[key])+\"</span>\";\n              }else{\n                let j = 0;\n                for(let value of inference.metaData[key]){\n                  if(j > 0)\n                    $.html += \", \";\n                  $.html += \"<span class='meta-data-value'>\"+$.escapeHtml(value)+\"</span>\";\n                  j++;\n                }\n              }\n              if(i < metadataKeys.length - 1)\n                $.html  += \"; \";\n              $.html += \"</span>\";\n            }\n            $.html += \" )</span>\";\n          }\n\n          $.html += \"</div>\";\n        }\n        $.html += \"<div class='\"+node.statement.role+\" argument-statement'><div class='statement-nr'>(<span>\"+node.statementNr+\"</span>)</div>\"\n      },\n      argumentStatementExit : ()=>$.html += \"</div>\"\n    }\n  }\n  getHtmlId(type, title, ignoreDuplicates){\n    let id = type + \"-\" + title;\n    id = util.getHtmlId(id);\n    if(!ignoreDuplicates){\n      let originalId = id;\n      let i = 1;\n      while(this.htmlIds && this.htmlIds[id]){\n        i++;\n        id = originalId + \"-occurrence-\" + i;\n      }\n    }\n    return id;\n  }\n  getCssClassesFromTags(tags, data){\n    let classes = \"\";\n    if(!tags || !data.tagsDictionary){\n      return classes;\n    }\n    let index = 0;\n    for(let tag of tags){\n      if(index > 0){\n        classes += \" \";\n      }\n      index++;\n      const tagData = data.tagsDictionary[tag];\n      classes += tagData.cssClass;\n    }\n    return classes;\n  }\n  replaceAll(str, find, replace) {\n    return str.replace(new RegExp(find, 'g'), replace);\n  }  \n  escapeHtml(unsafe) {\n    return unsafe\n      .replace(/&/g, \"&amp;\")\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .replace(/\"/g, \"&quot;\")\n      .replace(/'/g, \"&#039;\");\n  }\n  escapeRegExp(str) {\n      return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n  }  \n}\nmodule.exports = {\n  HtmlExport: HtmlExport\n}\n"]}